<main class="list-page-content">
  <app-topnav></app-topnav>

    <section class="list-page">
      <article>
        <div class="col col-lg-2">
          <input placeholder="Search" type="search" id="input-field" />
          <select class="sort">
            <option value="search" selected disabled hidden>Search by</option>
            <option value="age"></option>
            <option value="name"></option>
          </select>
        </div>
        <app-events-map></app-events-map>
      </article>
      <article>
        
  
        <!-- Here starts the scrolling list using Cdk virtual scrolling -->
        <ng-container
          class="list-group-item list-group-item-action d-flex gap-3 py-3"
          aria-current="true"
        >
          <cdk-virtual-scroll-viewport itemSize="50" class="content">
            <mat-accordion>
              <mat-expansion-panel class="list-item" *cdkVirtualFor="let event of events[0]?.data | sortDate : 'event.event_dates.starting_day';">
                
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      <h6>{{event.name.fi}} - {{ event.event_dates.starting_day | date: 'dd/MM/YYYY' }}  , klo. {{ event.event_dates.starting_day | date: 'HH:mm'}}</h6>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                
                  <a
                  class="mb-0 link-info"
                  target="_blank"
                  href="{{ event.info_url }}"
                  onclick="window.open(this.href,'_blank');"
                  rel="noopener noreferrer"
                >
                  {{ event.info_url }}
                </a>
                <p class="mb-0">{{ event.description.intro }}</p>
                <p></p>
                <p>Alkaa: {{ event.event_dates.starting_day | date: 'dd/MM/YYYY' }}  , klo. {{ event.event_dates.starting_day | date: 'HH:mm'}} </p>
                <p>Loppuu: {{ event.event_dates.ending_day | date: 'dd/MM/YYYY' }}  , klo. {{ event.event_dates.ending_day | date: 'HH:mm'}} </p>

                <p class="mb-0">{{ event.description.body }}</p>
                
                <p></p>
                <p class="mb-0">Osoite: {{ event.location.address.street_address }}</p>
                <p class="mb-0"> {{ event.location.address.postal_code }}</p>
                <p class="mb-0"> {{ event.location.address.locality }}</p>
                <figure class="event_image" *ngFor="let image of event.description.images">
                  <img src="{{image.url}}" alt="">
                  <p>&copy;{{ image.copyright_holder }} {{ image.license_type.name }}</p>
                </figure>
                <hr />
              </mat-expansion-panel>
            </mat-accordion>
          </cdk-virtual-scroll-viewport>
        </ng-container>
      </article>
    </section>
  </main>
  <app-footer></app-footer>

  
